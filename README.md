# BD-lab
# Лабораторная работа №2:

- [x]	Придумать свою предметную область и продумать схему БД для неё.
- [ ]	* Предметная область - архив карточек Magic the Gathering с картинками в бинарном виде и то, к какому набору каждая карточка относится, а также в каких магазинах можно купить эти наборы и по какой цене (типа Яндекс Маркет)
- [x]	Реализовать реляционную БД для своей предметной области(все таблицы должны быть не менее чем в третьей нормальной форме)
*	Критерии к БД:
    - [x]	БД должна быть в третьей нормальной форме или выше;
    * База данных находится в первой нормальной форме, потому что хранимые значения максимально упрощены.
    * База данных находится во второй нормальной форме, потому что существует первичный ключ, от которого зависят все неключевые атрибуты
    * База данных находится в третьей нормальной форме, потому что нет зависимости одного неключевого атрибута от других (транзитивных зависимостей)
    - [x]	Минимальное количество таблиц – 2;
    * Есть
    - [x]	Все подключения из GUI должны осуществляться выделенным, не root, пользователем;
    * Есть
    - [x]	Должен существовать как минимум один индекс, созданный вами по выбранному текстовому не ключевому полю
    * Есть
    - [x]	В одной из таблиц должно присутствовать поле, заполняемое/изменяемое только триггером (например, «общая стоимость бронирования» в таблице «бронирования», которое автоматически высчитывается при добавлении/изменении/удалении билетов, входящих в это бронирование)
    * Есть - время редактирования записи о ценах в магазинах
*	Реализовать программу GUI со следующим функционалом:
    - [x]	Создание базы данных (важно(!) именно create database, а не только create table)
    * Есть
    - [x]	Удаление базы данных
    * Есть
    - [x]	Вывод содержимого таблиц
    * Есть
    - [x]	Очистка(частичная - одной, и полная - всех) таблиц
    * Есть
    - [x]	Добавление новых данных
    * Есть
    - [x]	Поиск по заранее выбранному (вами) текстовому не ключевому полю
    * Есть 
    - [x]	Обновление кортежа
    * Есть
    - [x]	Удаление по заранее выбранному текстовому не ключевому полю
    * Есть
    - [x]	Удаление конкретной записи, выбранной пользователем
    * Есть
    - [x]	Все функции должны быть реализованы как хранимые процедуры. 
    * Есть

Из GUI вызывать только хранимые процедуры/функции. **Выполнение произвольного SQL кода запрещено**.
* Есть


В качестве отчёта от вас ожидается: описание вашей предметной области, схема бд(с пояснением в какой НФ она находится и почему), исходный код(лучше всего выкладывайте на любой source control server, например github, bitbucket и мне просто ссылку) и демонстрация работы вашего приложения на практике

Github репозиторий *вы здесь*

**Нереализованная фича (в parser.py) - хранение распарсенных ссылок/изображений карточек, т.к.: в официальном архиве Magic the Gathering карточки хранятся в нетипичном расширении (не jpg, не png, не pdf), а добавлению ссылок в саму таблицу препятствовала невозможность передать ее как параметр в триггер**

![Схема](https://github.com/Shaarlotka/BD-lab/blob/main/2021-06-12_23-56-48.png)

Моничева А., Рыжова И. 19ПИ-2
